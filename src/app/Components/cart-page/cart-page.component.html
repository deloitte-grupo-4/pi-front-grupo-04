<app-header></app-header>
<main class="container">
  <app-progress-bar></app-progress-bar>

  <section class="container" *ngFor = "let product of products">
    <div class="product">
      <div class="product-img">
        <img src="{{product.url}}">
      </div>
      <div class="product-wrapper">
        <div class="name-price">
          <h2>{{product.name}}</h2>
          <div class="price-delete">
              <p>{{product.quantity}}x R${{product.price}} </p>
              <span class="material-icons" (click)="deleteProduct(product)">
                clear
              </span>
          </div>

        </div>
        <div class="product-info">
           <select [(ngModel)] = "product.size" (change)="syncCart()">
            <option *ngFor="let size of validSizes" value={{size}} [selected]="product.size == size">{{size}}</option>
          </select>

          <div class="quantity">
            <button (click) = clickDecrease(product)>-</button>
            <span>{{product.quantity}}</span>
            <button (click) = clickIncrease(product)>+</button>
          </div>
        </div>
      </div>
    </div>

    <div class="price-delete-responsive">
      <p>{{product.quantity}}x R${{product.price}}</p>
    </div>
    <hr/>
  </section>


  <section class="container">
    <div class="prices">
      <p>Subtotal: R${{total}}</p>
      <p>Desconto: R$00.00</p>
      <p>Total: R${{total}} </p>
    </div>
    <div class="btn-submit">
      <button type="button" class="btn btn-default" (click) = "loggedIn()">Finalizar pedido</button>
    </div>
  </section>
  <app-signin *ngIf = "showModal" (onCancelClick)="hidingModal()"></app-signin>
</main>
<app-footer></app-footer>
